name: portfolio-calendar

services:
  calendar-api:
    build:
      context: .
      dockerfile: Dockerfile
    environment:
      ALLOWED_ORIGINS: ${ALLOWED_ORIGINS:-http://localhost:3000}
      KAFKA_PRODUCER_ENABLED: ${KAFKA_PRODUCER_ENABLED:-false}
      KAFKA_BOOTSTRAP_SERVERS: ${KAFKA_BOOTSTRAP_SERVERS:-localhost:9092}
      KAFKA_TOPIC_APPOINTMENTS_CREATED: ${KAFKA_TOPIC_APPOINTMENTS_CREATED:-appointments.created}
      KAFKA_NOTIFY_EMAIL_DEFAULT: ${KAFKA_NOTIFY_EMAIL_DEFAULT:-true}
      KAFKA_NOTIFY_SMS_DEFAULT: ${KAFKA_NOTIFY_SMS_DEFAULT:-false}
      CONTACT_DEFAULT_PHONE_REGION: ${CONTACT_DEFAULT_PHONE_REGION:-US}
    ports:
      - "${CALENDAR_API_PORT:-8002}:8002"
    networks:
      - notifier

networks:
  notifier:
    external: true
    name: notifier_service_default
